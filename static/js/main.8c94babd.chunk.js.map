{"version":3,"sources":["components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Modal/Modal.js","components/Loader/Loader.js","components/Button/Button.js","App.js","index.js"],"names":["SearchForm","styled","form","SearchFormButton","button","SearchFormButtonLabel","span","SearchFormInput","input","Searchbar","state","query","handleQueryChange","e","setState","currentTarget","value","handleSubmit","preventDefault","props","onSubmit","toast","error","this","type","name","autocomplete","placeholder","onChange","Component","ImageGalleryItems","li","ImageGalleryItemsImage","img","ImageGalleryItem","id","tags","webformatURL","onOpenModal","largeImageURL","src","alt","onClick","ImageGalleryList","ul","ImageGallery","images","map","Overlay","div","ModalWindow","modalRoot","document","querySelector","Modal","onCloseModal","code","handleBackdropClick","target","window","addEventListener","removeEventListener","createPortal","children","Loader","height","width","color","arialLabel","LoadMoreBtn","Button","onLoadMoreButton","AppWrapper","axios","defaults","baseURL","URI","App","page","serchTerm","showModal","status","setSerchTerm","onLargeImgClick","onToggleModal","prevState","a","get","response","newArray","data","hits","_","console","log","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.8c94babd.chunk.js","sourcesContent":["// import PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport toast, { Toaster } from 'react-hot-toast';\nimport styled from 'styled-components';\nimport { FaSearch } from 'react-icons/fa';\n\nconst SearchForm = styled.form`\n  display: flex;\n  align-items: center;\n  width: 100%;\n  max-width: 600px;\n  background-color: #fff;\n  border-radius: 3px;\n  overflow: hidden;\n`;\n\nconst SearchFormButton = styled.button`\n  display: inline-block;\n  width: 48px;\n  height: 48px;\n  border: 0;\n  background-size: 40%;\n  background-repeat: no-repeat;\n  background-position: center;\n  opacity: 0.6;\n  transition: opacity 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  cursor: pointer;\n  outline: none;\n\n  &:hover {\n    opacity: 1;\n  }\n`;\n\nconst SearchFormButtonLabel = styled.span`\n  position: absolute;\n  width: 1px;\n  height: 1px;\n  padding: 0;\n  overflow: hidden;\n  clip: rect(0, 0, 0, 0);\n  white-space: nowrap;\n  clip-path: inset(50%);\n  border: 0;\n`;\n\nconst SearchFormInput = styled.input`\n  display: inline-block;\n  width: 100%;\n  font: inherit;\n  font-size: 20px;\n  border: none;\n  outline: none;\n  padding-left: 4px;\n  padding-right: 4px;\n\n  &::placeholder {\n    font: inherit;\n    font-size: 18px;\n  }\n`;\n\nexport default class Searchbar extends Component {\n  state = {\n    query: '',\n  };\n\n  handleQueryChange = e => {\n    this.setState({ query: e.currentTarget.value });\n  };\n\n  handleSubmit = e => {\n    e.preventDefault();\n\n    if (this.state.query === '') {\n      toast.error('Enter what you want to find');\n      return;\n    }\n\n    this.props.onSubmit(this.state.query);\n    this.setState({ query: '' });\n  };\n  render() {\n    return (\n      <header>\n        <Toaster />\n        <SearchForm onSubmit={this.handleSubmit}>\n          <SearchFormButton type=\"submit\">\n            <FaSearch />\n            <SearchFormButtonLabel>Search</SearchFormButtonLabel>\n          </SearchFormButton>\n          <SearchFormInput\n            type=\"text\"\n            name=\"query\"\n            autocomplete=\"off\"\n            placeholder=\"Search images and photos\"\n            onChange={this.handleQueryChange}\n            value={this.state.query}\n          />\n        </SearchForm>\n      </header>\n    );\n  }\n}\n","// // import PropTypes from 'prop-types';\n// import React from 'react';\nimport styled from 'styled-components';\n\nconst ImageGalleryItems = styled.li`\n  height: 260px;\n  width: 100%;\n  border-radius: 4px;\n  box-shadow: 0px 1px 3px 0px rgba(0, 0, 0, 0.2), 0px 1px 1px 0px rgba(0, 0, 0, 0.14),\n    0px 2px 1px -1px rgba(0, 0, 0, 0.12);\n`;\nconst ImageGalleryItemsImage = styled.img`\n  width: 100%;\n  height: 260px;\n  object-fit: cover;\n  border-radius: 4px;\n  transition: transform 250ms cubic-bezier(0.4, 0, 0.2, 1);\n\n  &:hover {\n    transform: scale(1.03);\n    cursor: zoom-in;\n  }\n`;\n\nconst ImageGalleryItem = ({ id, tags, webformatURL, onOpenModal, largeImageURL }) => (\n  <ImageGalleryItems key={id} id={id}>\n    <ImageGalleryItemsImage\n      src={webformatURL}\n      alt={tags}\n      onClick={() => onOpenModal(largeImageURL)}\n    />\n  </ImageGalleryItems>\n);\n\nexport default ImageGalleryItem;\n","// import PropTypes from 'prop-types';\nimport React from 'react';\nimport ImageGalleryItem from '../ImageGalleryItem/';\nimport styled from 'styled-components';\n\nconst ImageGalleryList = styled.ul`\n  display: grid;\n  max-width: calc(100vw - 48px);\n  grid-template-columns: repeat(3, 1fr);\n  grid-gap: 16px;\n  margin-top: 0;\n  margin-bottom: 0;\n  padding: 0;\n  list-style: none;\n  margin-left: auto;\n  margin-right: auto;\n`;\n\nconst ImageGallery = ({ images, onOpenModal }) => (\n  <ImageGalleryList>\n    {images.map(({ id, tags, webformatURL, largeImageURL }) => (\n      <ImageGalleryItem\n        key={id}\n        id={id}\n        tags={tags}\n        webformatURL={webformatURL}\n        largeImageURL={largeImageURL}\n        onOpenModal={onOpenModal}\n      />\n    ))}\n  </ImageGalleryList>\n);\n\nexport default ImageGallery;\n","// import PropTypes from 'prop-types';\nimport React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\n// import toast, { Toaster } from 'react-hot-toast';\nimport styled from 'styled-components';\n\nconst Overlay = styled.div`\n  position: fixed;\n  top: 0;\n  left: 0;\n  width: 100vw;\n  height: 100vh;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  background-color: rgba(0, 0, 0, 0.8);\n  z-index: 1200;\n`;\nconst ModalWindow = styled.div`\n  background-color: #fff;\n  max-width: calc(100vw - 48px);\n  max-height: calc(100vh - 24px);\n`;\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport default class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.onCloseModal);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.onCloseModal);\n  }\n\n  onCloseModal = e => {\n    if (e.code === 'Escape') {\n      this.props.onCloseModal();\n    }\n  };\n\n  handleBackdropClick = e => {\n    if (e.currentTarget === e.target) {\n      this.props.onCloseModal();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <Overlay onClick={this.handleBackdropClick}>\n        <ModalWindow>{this.props.children}</ModalWindow>\n      </Overlay>,\n      modalRoot,\n    );\n  }\n}\n","import React from 'react';\nimport { TailSpin } from 'react-loader-spinner';\n\nconst Loader = () => (\n  <>\n    <TailSpin height={80} width={80} color=\"#696969\" arialLabel=\"loading\" />\n  </>\n);\n\nexport default Loader;\n","// import PropTypes from 'prop-types';\nimport React from 'react';\nimport styled from 'styled-components';\n\nconst LoadMoreBtn = styled.button`\n  padding: 8px 16px;\n  border-radius: 2px;\n  background-color: #3f51b5;\n  transition: all 250ms cubic-bezier(0.4, 0, 0.2, 1);\n  text-align: center;\n  display: inline-block;\n  color: #fff;\n  border: 0;\n  text-decoration: none;\n  cursor: pointer;\n  font-family: inherit;\n  font-size: 18px;\n  line-height: 24px;\n  font-style: normal;\n  font-weight: 500;\n  min-width: 180px;\n  box-shadow: 0px 3px 1px -2px rgba(0, 0, 0, 0.2), 0px 2px 2px 0px rgba(0, 0, 0, 0.14),\n    0px 1px 5px 0px rgba(0, 0, 0, 0.12);\n\n  &:hover,\n  &:focus {\n    background-color: #303f9f;\n  }\n`;\n\nconst Button = ({ name, onLoadMoreButton }) => (\n  <LoadMoreBtn type=\"button\" onClick={() => onLoadMoreButton()}>\n    {name}\n  </LoadMoreBtn>\n);\n\nexport default Button;\n","import React, { Component } from 'react';\nimport styled from 'styled-components';\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\nimport Modal from './components/Modal';\nimport Loader from './components/Loader';\nimport Button from './components/Button';\nimport { Toaster } from 'react-hot-toast';\n// import { TailSpin } from 'react-loader-spinner';\nimport axios from 'axios';\n\nconst AppWrapper = styled.div`\n  display: grid;\n  grid-template-columns: 1fr;\n  grid-gap: 16px;\n  padding-bottom: 24px;\n`;\n\naxios.defaults.baseURL = 'https://pixabay.com/api';\nconst KEY = '24296481-49f21b132d362d0e842f769a1';\nconst URI = `/?key=${KEY}&image_type=photo&orientation=horizontal&per_page=12`;\n\nexport default class App extends Component {\n  state = {\n    images: [],\n    page: 1,\n    serchTerm: '',\n    showModal: false,\n    largeImageURL: '',\n    status: 'idle',\n    error: null,\n  };\n\n  setSerchTerm = serchTerm => {\n    this.setState({ serchTerm });\n  };\n\n  onLargeImgClick = ({ largeImageURL }) => {\n    this.setState({ largeImageURL: largeImageURL });\n  };\n\n  onToggleModal = img => {\n    this.setState(prevState => ({\n      showModal: !prevState.showModal,\n      largeImageURL: img,\n    }));\n  };\n\n  onLoadMoreButton = async () => {\n    const { page, serchTerm } = this.state;\n    const response = await axios.get(`${URI}&q=${serchTerm}&page=${page}`);\n    const newArray = response.data.hits;\n    this.setState(prevState => {\n      return {\n        images: [...prevState.images, ...newArray],\n        page: prevState.page + 1,\n      };\n    });\n  };\n\n  async componentDidMount() {}\n\n  async componentDidUpdate(_, prevState) {\n    const { serchTerm } = this.state;\n\n    if (prevState.serchTerm !== serchTerm) {\n      this.setState({ images: [], status: 'pending' });\n    }\n\n    if (prevState.serchTerm !== serchTerm) {\n      const { serchTerm } = this.state;\n      const response = await axios.get(`${URI}&q=${serchTerm}&page=1`);\n      const newArray = response.data.hits;\n\n      try {\n        this.setState(prevState => {\n          return {\n            images: [...prevState.images, ...newArray],\n            status: 'resolved',\n          };\n        });\n      } catch (error) {\n        this.setState({ error, status: 'rejected' });\n      }\n      console.log('this.state.error', this.state.error);\n      console.log('this.state.status', this.state.status);\n    }\n  }\n\n  render() {\n    const { images, status } = this.state;\n\n    if (status === 'idle') {\n      return <Searchbar onSubmit={this.setSerchTerm} />;\n    }\n\n    if (status === 'pending') {\n      return <Loader />;\n    }\n\n    if (status === 'rejected') {\n      return (\n        <>\n          <Toaster />\n          {/* <p>Whoops, something went wrong: {error.message}</p> */}\n          <p>Whoops, something went wrong</p>\n          {/* <Toaster autoClose={1000} /> */}\n        </>\n      );\n    }\n\n    if (status === 'resolved') {\n      return (\n        <AppWrapper>\n          <Searchbar onSubmit={this.setSerchTerm} />\n          {this.state.showModal && (\n            <Modal onCloseModal={this.onToggleModal}>\n              <img src={this.state.largeImageURL} alt=\"\" />\n            </Modal>\n          )}\n          <ImageGallery images={images} onOpenModal={this.onToggleModal} />\n          <Button name={'Load more'} onLoadMoreButton={this.onLoadMoreButton} />\n        </AppWrapper>\n      );\n    }\n  }\n}\n\n// render() {\n//   const { images, isLoading, error, showModal, largeImageURL, tags } = this.state;\n//   return (\n//     <AppWrapper>\n//       <Toaster />\n//       <Searchbar onSubmit={this.setSerchTerm} />\n//       {error && <p>Whoops, something went wrong: {error.message}</p>}\n//       {isLoading && <Loader />}\n//       {images.length > 0 && <ImageGallery images={images} onOpenModal={this.onToggleModal} />}\n//       {showModal && (\n//         <Modal onCloseModal={this.onToggleModal}>\n//           <img src={largeImageURL} alt={tags} />\n//         </Modal>\n//       )}\n//       {images.length > 1 && (\n//         <Button name={'Load more'} onLoadMoreButton={this.onLoadMoreButton} />\n//       )}\n//     </AppWrapper>\n//   );\n// }\n// }\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}